{"code":"ENOTFOUND","hostname":"_mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net","level":"error","message":"❌ Failed to connect to MongoDB: querySrv ENOTFOUND _mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net","stack":"Error: querySrv ENOTFOUND _mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-11-05T03:57:32.358Z"}
{"code":"ENOTFOUND","hostname":"_mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net","level":"error","message":"❌ Failed to connect to MongoDB: querySrv ENOTFOUND _mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net","stack":"Error: querySrv ENOTFOUND _mongodb._tcp.ai-therapy-agent-db.qkfwx.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-11-05T03:59:28.036Z"}
{"code":8000,"codeName":"AtlasError","connectionGeneration":0,"errorLabelSet":{},"errorResponse":{"code":8000,"codeName":"AtlasError","errmsg":"bad auth : authentication failed","ok":0},"level":"error","message":"❌ Failed to connect to MongoDB: bad auth : authentication failed","ok":0,"stack":"MongoServerError: bad auth : authentication failed\n    at Connection.sendCommand (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:559:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connection.ts:633:22)\n    at async continueScramConversation (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\auth\\scram.ts:187:13)\n    at async executeScram (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\auth\\scram.ts:114:3)\n    at async ScramSHA1.auth (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\auth\\scram.ts:60:12)\n    at async performInitialHandshake (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connect.ts:164:7)\n    at async connect (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\node_modules\\mongodb\\src\\cmap\\connect.ts:43:5)","timestamp":"2025-11-05T04:00:41.808Z"}
{"level":"error","message":"❌ Error logging activity: Cannot destructure property 'type' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'type' of 'req.body' as it is undefined.\n    at logActivity (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\controllers\\activityController.ts:8:13)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:291:5)\n    at auth (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\middleware\\auth.ts:34:5)","timestamp":"2025-11-08T08:09:31.513Z"}
{"level":"error","message":"Unexpected error: Cannot destructure property 'type' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'type' of 'req.body' as it is undefined.\n    at logActivity (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\controllers\\activityController.ts:8:13)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:291:5)\n    at auth (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\middleware\\auth.ts:34:5)","timestamp":"2025-11-08T08:09:31.514Z"}
{"level":"error","message":"❌ Error logging activity: Cannot destructure property 'type' of 'req.body' as it is undefined.","stack":"TypeError: Cannot destructure property 'type' of 'req.body' as it is undefined.\n    at logActivity (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\controllers\\activityController.ts:7:13)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\index.js:291:5)\n    at auth (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\middleware\\auth.ts:34:5)","timestamp":"2025-11-08T08:12:06.796Z"}
{"_message":"Activity validation failed","errors":{"duration":{"kind":"Number","message":"Cast to Number failed for value \"60 minutes\" (type string) at path \"duration\"","name":"CastError","path":"duration","reason":{"actual":false,"code":"ERR_ASSERTION","diff":"simple","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"60 minutes\"","value":"60 minutes","valueType":"string"},"type":{"kind":"enum","message":"`Meeting` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["meditation","exercise","walking","reading","journaling","therapy"],"length":7,"message":"`Meeting` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"Meeting"},"value":"Meeting"}},"level":"error","message":"❌ Error logging activity: Activity validation failed: duration: Cast to Number failed for value \"60 minutes\" (type string) at path \"duration\", type: `Meeting` is not a valid enum value for path `type`.","stack":"ValidationError: Activity validation failed: duration: Cast to Number failed for value \"60 minutes\" (type string) at path \"duration\", type: `Meeting` is not a valid enum value for path `type`.\n    at model.Document.invalidate (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at model.$set (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:1484:12)\n    at model.$set (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:1136:16)\n    at model.Document (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\model.js:4855:15)\n    at logActivity (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\src\\controllers\\activityController.ts:18:22)\n    at Layer.handleRequest (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\router\\lib\\route.js:117:3)","timestamp":"2025-11-08T08:15:01.191Z"}
{"_message":"Activity validation failed","errors":{"type":{"kind":"enum","message":"`workout` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["meditation","exercise","walking","reading","journaling","therapy"],"length":7,"message":"`workout` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"workout"},"value":"workout"}},"level":"error","message":"❌ Error logging activity: Activity validation failed: type: `workout` is not a valid enum value for path `type`.","stack":"ValidationError: Activity validation failed: type: `workout` is not a valid enum value for path `type`.\n    at model.Document.invalidate (C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at C:\\Users\\Mahak Dhanwani\\ai-therapist-app-agent\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1420:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-11-08T08:16:10.856Z"}
